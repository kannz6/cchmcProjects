#bcftools query -l /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz | awk '{{OFS=","}i=0;print "bcftools view --force-samples -s "; while (getline){if($0 !~ /-(01|02)/){if(i == 117){ print "\n";i = 0; print "bcftools view --force-samples -s "} print $0,$0"-01",$0"-02"; i++}}}' | tr '\n' ',' > /scratch/kannz6/temp/awkResult.txt

bcftools query -l /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz | awk '{{OFS=","}i=0;print "awk \47BEGIN{system(module load bcftools/1.3 && bcftools view --force-samples -s "; while (getline){if ($0 !~ /(-01|-02|[A-Z]+)/ && $0 ~ /(1-[0-9]+)/ ){if(i == 38){ print " | gzip > /scratch/kannz6/temp/batch_"n++".vcf.gz)}\47\n\n\n";i = 0; print "awk \47BEGIN{system(module load bcftools/1.3 && bcftools view --force-samples -s "} print $0,$0"-01",$0"-02"; i++}}print " | gzip > /scratch/kannz6/temp/vcfFiles/batch_"n".vcf.gz)}\47"}' | tr '\n' '\n'> /scratch/kannz6/temp/vcfFiles/awkResult.txt

bcftools query -l /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz | awk '{{OFS=","}i=0;line = "awk \47BEGIN{system(\"module load bcftools/1.3 && bcftools view --force-samples -s "; while (getline){if ($0 !~ /(-01|-02|[A-Z]+)/ && $0 ~ /(1-[0-9]+)/ ){if(i == 38){ line = line " | gzip > /scratch/kannz6/temp/batch_"n++".vcf.gz\")}\47"; print line; print "\n";i = 0; line= "awk \47BEGIN{system(\"module load bcftools/1.3 && bcftools view --force-samples -s "} line= line $0","$0"-01,"$0"-02"; i++;}} line= line " | gzip > /scratch/kannz6/temp/vcfFiles/batch_"n".vcf.gz\")}\47"; print line; print "\n";}' > /scratch/kannz6/temp/vcfFiles/awkResult.txt

bcftools query -l /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz | awk '{{OFS=","}i=0;line = "module load bcftools/1.3 && bcftools view /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz --force-samples -s "; while (getline){if ($0 !~ /(-01|-02|[A-Z]+)/ && $0 ~ /(1-[0-9]+)/ ){if(i == 38){ line = substr(line, 0, length(line)-1)  " | gzip > /scratch/kannz6/temp/batch_"n++".vcf.gz"; print line; print "\n";i = 0; line= "module load bcftools/1.3 && bcftools view /projects/pcgc/prod/data/expedat/yale_vcf/exome_calls.vcf.gz --force-samples -s "} line= line $0","$0"-01,"$0"-02,"; i++;}} line= substr(line, 0, length(line)-1) " | gzip > /scratch/kannz6/temp/vcfFiles/batch_"n".vcf.gz"; print line; print "\n";}' > /scratch/kannz6/temp/vcfFiles/awkResult.txt